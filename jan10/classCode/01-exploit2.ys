# This function DOES WHAT?
# Input %rdi
# Input %rsi
# Output 0

# THIS IS ALL PART OF THE DRIVER PROGRAM
# Initialize the stack
irmovq  0x5000, %rsp

# Driver program to test copy
irmovq  a, %rdi
irmovq  b, %rsi
call bufcopy
halt

a:      .quad 0xDEADBEEF
        .quad 0

b:      .quad 0
        .quad 0
# END OF DRIVER PROGRAM

.pos 0x2000
mystery:
	irmovq	8, %r10		
loop:
	mrmovq	0(%rdi), %rax	
	rmmovq	%rax, 0(%rsi)	
	andq	%rax, %rax	
	je	done

	addq	%r10, %rdi	
	addq	%r10, %rsi	
	jmp	loop
done:
	ret
